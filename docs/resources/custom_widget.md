---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "orcasecurity_custom_widget Resource - orcasecurity"
subcategory: ""
description: |-
  Provides a custom widget resource. According to Oxford Languages, a widget is an application, or a component of an interface, that enables a user to perform a function or access a service. Orca provides 50+ built-in widgets (https://docs.orcasecurity.io/v1/docs/available-dashboard-widgets) that allow customers to more easily digest their cloud inventory and risks with certain filters. Customers can build custom widgets in cases where their use cases are more advanced than those covered by Orca's built-in widgets.
---

# orcasecurity_custom_widget (Resource)

Provides a custom widget resource. According to Oxford Languages, a widget is an application, or a component of an interface, that enables a user to perform a function or access a service. Orca provides 50+ built-in widgets (https://docs.orcasecurity.io/v1/docs/available-dashboard-widgets) that allow customers to more easily digest their cloud inventory and risks with certain filters. Customers can build custom widgets in cases where their use cases are more advanced than those covered by Orca's built-in widgets.

## Example Usage

```terraform
# table-type asset widget (Serving Layer (SVL) Orca backend)
resource "orcasecurity_custom_widget" "example_1" {
  name               = "GCP API Keys Table Widget"
  organization_level = true
  extra_params = {
    type                = "table",
    empty_state_message = "Widget query returned no data",
    default_size        = "sm",
    is_new              = true,
    subtitle            = "API Keys Provisioned by GCP users",
    description         = "API Keys Provisioned by GCP users",
    settings = {
      columns = [
        "asset",
        "alertsOnAsset",
        "cloudAccount"
      ]
      request_params = {
        query = jsonencode({
          "models" : [
            "GcpApiKey"
          ],
          "type" : "object_set"
        })
        group_by : [
          "Type"
        ]
        start_at_index    = 0
        order_by          = ["-Inventory.OrcaScore"]
        limit             = 10
        enable_pagination = true
      }
    }
  }
}

# table-type asset widget (legacy Orca backend)
resource "orcasecurity_custom_widget" "example_2" {
  name               = "GCP API Keys Table Widget 2"
  organization_level = true
  extra_params = {
    type                = "asset-table",
    empty_state_message = "Widget query returned no data",
    default_size        = "sm",
    is_new              = true,
    subtitle            = "API Keys Provisioned by GCP users",
    description         = "API Keys Provisioned by GCP users",
    settings = {
      columns = [
        "asset",
        "alertsOnAsset",
        "cloudAccount"
      ]
      request_params = {
        query = jsonencode({
          "models" : [
            "GcpApiKey"
          ],
          "type" : "object_set"
        })
        group_by : [
          "Type"
        ]
        start_at_index    = 0
        order_by          = ["-Inventory.OrcaScore"]
        limit             = 10
        enable_pagination = true
      }
    }
  }
}


# table-type alert widget (legacy Orca backend)
resource "orcasecurity_custom_widget" "example_3" {
  name               = "Alerts"
  organization_level = true
  extra_params = {
    type                = "alert-table",
    empty_state_message = "Widget query returned no data",
    default_size        = "sm",
    is_new              = true,
    subtitle            = "Alerts",
    description         = "Alerts",
    settings = {
      columns = [
        "alert",
        "status",
        "priority"
      ]
      request_params = {
        query = jsonencode({
          "models" : [
            "Alert"
          ],
          "type" : "object_set",
          "with" : {
            "operator" : "and",
            "type" : "operation",
            "values" : [
              {
                "key" : "Status",
                "values" : [
                  "open",
                  "in_progress"
                ],
                "type" : "str",
                "operator" : "in"
              }
            ]
        } })
        group_by : [
          "Name"
        ]
        start_at_index    = 0
        order_by          = ["Score"]
        limit             = 10
        enable_pagination = true
      }
    }
  }
}

# donut-type widget
resource "orcasecurity_custom_widget" "example_4" {
  name               = "GCP API Keys Donut Widget"
  organization_level = true
  extra_params = {
    type                = "donut",
    empty_state_message = "Widget query returned no data",
    default_size        = "sm",
    is_new              = true,
    subtitle            = "API Keys Provisioned by GCP users",
    description         = "API Keys Provisioned by GCP users",
    settings = {
      request_params = {
        query = jsonencode({
          "models" : [
            "GcpApiKey"
          ],
          "type" : "object_set"
        })
        group_by : [
          "Type"
        ],
        group_by_list = [
          "CloudAccount.Name"
        ]
      }
      field = {
        name = "CloudAccount.Name",
        type = "str"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `extra_params` (Attributes) (see [below for nested schema](#nestedatt--extra_params))
- `name` (String) An internal, unique name for the widget.
- `organization_level` (Boolean) If set to true, it is a shared widget (can be viewed by any member of your Orca org). If set to false, it is a personal widget (can be viewed only by you, not other members of your Orca org).

### Read-Only

- `id` (String) Custom widget ID.
- `view_type` (String) This variable is `customs_widgets` for custom widgets.

<a id="nestedatt--extra_params"></a>
### Nested Schema for `extra_params`

Required:

- `default_size` (String) Default size of the widget. Possible values are sm (small), md (medium), or lg (large).
- `description` (String) Custom widget description (the text that appears in the info bubble).
- `empty_state_message` (String) When no objects are returned by the widget's underlying Discovery query, the widget would present this message.
- `is_new` (Boolean) Should be set to true for a widget you are creating for the first time in Terraform.
- `settings` (Attributes) These are the settings for the custom widget. (see [below for nested schema](#nestedatt--extra_params--settings))
- `subtitle` (String) Custom widget subtitle that will be presented in the UI.
- `type` (String) Type of custom widget to create. Valid values are `donut` and `table`.

Read-Only:

- `category` (String) Should be set to 'custom' for custom dashboards.
- `title` (String) Custom widget title that will be presented in the UI.

<a id="nestedatt--extra_params--settings"></a>
### Nested Schema for `extra_params.settings`

Required:

- `request_params` (Attributes) These settings define the query and the grouping for the widget. For inventory-based queries, a common setting is to set 'group_by' to 'Type' and 'group_by_list' to 'CloudAccount.Name'. (see [below for nested schema](#nestedatt--extra_params--settings--request_params))

Optional:

- `columns` (List of String) Columns of the table. Required for table-type widgets. Not supported for donut-type widgets. First column to appear in the list will be the first column in the table widget; same thing for the next column in the list.
- `field` (Attributes) The name and type are also required here for grouping. This field is only required for donut-type widgets. (see [below for nested schema](#nestedatt--extra_params--settings--field))

<a id="nestedatt--extra_params--settings--request_params"></a>
### Nested Schema for `extra_params.settings.request_params`

Required:

- `group_by` (List of String) How to group the returned results.
- `query` (String) Discovery query that the widget will use for its data.

Optional:

- `enable_pagination` (Boolean)
- `group_by_list` (List of String) How to group the returned results. Do not use this option with the table-type widget
- `limit` (Number) Number of items returned in query.
- `order_by` (List of String) How the returned items are ordered.
- `start_at_index` (Number)


<a id="nestedatt--extra_params--settings--field"></a>
### Nested Schema for `extra_params.settings.field`

Required:

- `name` (String) Name of the grouping method. For inventory-based queries, a common value is 'CloudAccount.Name'. To see other options, please use Chrome DevTools and the Orca UI to monitor what values this can be.
- `type` (String) The name's type (normally 'str' for string).
